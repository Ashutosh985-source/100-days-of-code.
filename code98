#include <stdio.h>
#include <string.h>
#include <ctype.h> // For toupper()

int main() {
    char name[100];
    int i;
    int lastSpaceIndex = -1; // To store the index of the last space

    // --- Get input from the user ---
    printf("Enter a full name: ");
    fgets(name, sizeof(name), stdin);

    // Remove the trailing newline character from fgets input
    name[strcspn(name, "\n")] = 0;

    int len = strlen(name);

    // --- Step 1: Find the last space in the string ---
    for (i = len - 1; i >= 0; i--) {
        if (name[i] == ' ') {
            lastSpaceIndex = i;
            break;
        }
    }

    printf("The formatted name is: ");

    // --- Step 2: Handle different name formats ---
    if (lastSpaceIndex == -1) {
        // If no space is found, print the name as is (e.g., "Cher")
        printf("%s", name);
    } else {
        // Print the first initial
        printf("%c. ", toupper(name[0]));

        // Print middle initials by finding characters that follow a space
        for (i = 1; i < lastSpaceIndex; i++) {
            if (name[i-1] == ' ' && name[i] != ' ') {
                printf("%c. ", toupper(name[i]));
            }
        }

        // Print the surname (the part after the last space)
        // The pointer `name + lastSpaceIndex + 1` points to the start of the surname
        printf("%s", name + lastSpaceIndex + 1);
    }

    printf("\n"); // Print a final newline

    return 0;
}